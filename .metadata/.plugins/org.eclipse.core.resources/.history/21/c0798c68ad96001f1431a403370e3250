package com.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.entity.CabType;
import com.entity.Location;
import com.service.CabTypeService;
import com.service.DistanceService;
import com.service.LocationService;

@RestController
@RequestMapping("farecalculate")
public class FareController {
	
	@Autowired
	CabTypeService cabtypeService;
	@Autowired
	LocationService locService;
	@Autowired
	DistanceService distanceService;
	
	 @RequestMapping(value = "farecalculate",method=RequestMethod.GET) 
	  public String openFareCalculation(Model mm) { 
			
			  List<Location> categories = locService.getallLocation(); 
			  List<CabType> cabtypes = cabtypeService.getallcabType();
			  
		 // ResponseEntity<List<Location>>  categories = (ResponseEntity<List<Location>>) restTemplate.getForObject("http://localhost:9191/location/getlocation", List.class);
		//  ResponseEntity<List<CabType>> cabtypes = (ResponseEntity<List<CabType>>) restTemplate.getForObject("http://localhost:9191/cabtype/getallcabtype", List.class);
	        mm.addAttribute("categories", categories);
	        mm.addAttribute("cabtypes", cabtypes);
		  return "fare"; 
		  }

}
