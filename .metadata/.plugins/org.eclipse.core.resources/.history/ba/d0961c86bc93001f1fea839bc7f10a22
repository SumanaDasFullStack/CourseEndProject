package com.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.entity.BookCab;
import com.service.BookCabService;

import jakarta.servlet.http.HttpServletRequest;

@Controller
public class BookingController {
	
	@Autowired
	BookCabService bookcabService;
	
	  @RequestMapping(value = "",method=RequestMethod.GET) 
	  public String openPage() { 
		  return "index"; 
		  }
	  @RequestMapping(value = "book",method=RequestMethod.GET) 
	  public String openBookCab() { 
		  return "bookcab"; 
		  }
	  @RequestMapping(value = "farecalculate",method=RequestMethod.GET) 
	  public String openFareCalculation() { 
		  return "fare"; 
		  }
	 @RequestMapping(value = "booking",method = RequestMethod.POST)
	 public String submitcabBooking(Model mm, BookCab book) {
		  String result = bookcabService.createBooking(book);
		  book.setSource("");
		  book.setDestination("");
		  mm.addAttribute("bookentry",book);
		  mm.addAttribute("result", result);
		 return "bookcab";
		 
	 }

}
